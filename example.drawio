<mxfile host="65bd71144e">
    <diagram id="HYKw9k-i8aPMXi3kG7MP" name="Page-1">
        <mxGraphModel dx="3784" dy="868" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="33" value="Usuario" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;rounded=1;shadow=0;glass=0;sketch=0;gradientColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-301" y="939" width="387" height="270" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="30" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="&lt;span style=&quot;&quot;&gt;id&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="34" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="36" value="INT AUTO_INCREMENT PRIMARY KEY" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="34" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="37" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="60" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="&lt;span style=&quot;&quot;&gt;cpf_cnpj&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="37" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="39" value="varchar (14) UNIQUE NOT NULL" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="37" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="40" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="90" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="&lt;span style=&quot;&quot;&gt;tipo&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="40" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="42" value="varchar (10) DEFAULT `PESSOA`" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="40" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="46" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="120" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="47" value="&lt;span style=&quot;&quot;&gt;email&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="46" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="48" value="VARCHAR (200) UNIQUE NOT NULL" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="46" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="49" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="150" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="50" value="&lt;span style=&quot;&quot;&gt;nome&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="49" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="51" value="VARCHAR (200)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="49" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="52" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="180" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="53" value="&lt;span style=&quot;&quot;&gt;endereco&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="52" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="54" value="VARCHAR (200)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="52" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="55" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="210" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="56" value="&lt;span style=&quot;&quot;&gt;saldo&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="55" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="57" value="DECIMAL(10, 2) DEFAULT 0.00" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="55" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="58" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="33" vertex="1">
                    <mxGeometry y="240" width="387" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="59" value="&lt;span style=&quot;&quot;&gt;criado_em&amp;nbsp;&lt;/span&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;align=center;fontStyle=1" parent="58" vertex="1">
                    <mxGeometry width="87" height="30" as="geometry">
                        <mxRectangle width="87" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="60" value="TIMESTAMP DEFAULT CURRENT_TIMESTAMP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="58" vertex="1">
                    <mxGeometry x="87" width="300" height="30" as="geometry">
                        <mxRectangle width="300" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="89" value="Transacao" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;rounded=1;shadow=0;glass=0;sketch=0;gradientColor=none;" parent="1" vertex="1">
                    <mxGeometry x="378" y="999" width="394" height="180" as="geometry"/>
                </mxCell>
                <mxCell id="90" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="89" vertex="1">
                    <mxGeometry y="30" width="394" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="id&lt;br&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;pointerEvents=1;rounded=1;shadow=0;glass=0;sketch=0;" parent="90" vertex="1">
                    <mxGeometry width="70" height="30" as="geometry">
                        <mxRectangle width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="92" value="INT AUTO_INCREMENT PRIMARY KEY" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="90" vertex="1">
                    <mxGeometry x="70" width="324" height="30" as="geometry">
                        <mxRectangle width="324" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="93" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="89" vertex="1">
                    <mxGeometry y="60" width="394" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="94" value="id_origem" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="93" vertex="1">
                    <mxGeometry width="70" height="30" as="geometry">
                        <mxRectangle width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="95" value="INT FOREIGN (id_origem) REFERENCES usuario(id)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="93" vertex="1">
                    <mxGeometry x="70" width="324" height="30" as="geometry">
                        <mxRectangle width="324" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="96" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="89" vertex="1">
                    <mxGeometry y="90" width="394" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="97" value="id_destino" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="96" vertex="1">
                    <mxGeometry width="70" height="30" as="geometry">
                        <mxRectangle width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="98" value="INT FOREIGN (&lt;span style=&quot;text-align: center;&quot;&gt;id_destino&lt;/span&gt;) REFERENCES usuario(id)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="96" vertex="1">
                    <mxGeometry x="70" width="324" height="30" as="geometry">
                        <mxRectangle width="324" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="200" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="89" vertex="1">
                    <mxGeometry y="120" width="394" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="201" value="valor" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="200" vertex="1">
                    <mxGeometry width="70" height="30" as="geometry">
                        <mxRectangle width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="202" value="DECIMAL(10,&amp;nbsp; 2)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="200" vertex="1">
                    <mxGeometry x="70" width="324" height="30" as="geometry">
                        <mxRectangle width="324" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="100" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;sketch=0;" parent="89" vertex="1">
                    <mxGeometry y="150" width="394" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="101" value="criado_em" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="100" vertex="1">
                    <mxGeometry width="70" height="30" as="geometry">
                        <mxRectangle width="70" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="102" value="TIMESTAMP DEFAULT CURRENT_TIMESTAMP" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;overflow=hidden;rounded=1;shadow=0;glass=0;sketch=0;" parent="100" vertex="1">
                    <mxGeometry x="70" width="324" height="30" as="geometry">
                        <mxRectangle width="324" height="30" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="103" value="Region" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_region;strokeColor=#147EBA;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=1;rounded=1;shadow=0;glass=0;sketch=0;" parent="1" vertex="1">
                    <mxGeometry x="24" y="-122" width="685" height="617" as="geometry"/>
                </mxCell>
                <mxCell id="104" value="VPC" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc;strokeColor=#248814;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#AAB7B8;dashed=0;rounded=1;shadow=0;glass=0;sketch=0;" parent="103" vertex="1">
                    <mxGeometry x="29" y="42" width="641" height="527" as="geometry"/>
                </mxCell>
                <mxCell id="116" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=8;fontColor=#FFFFFF;" parent="104" source="105" target="111" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="105" value="Public subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#248814;fillColor=#E9F3E6;verticalAlign=top;align=left;spacingLeft=30;fontColor=#248814;dashed=0;rounded=1;shadow=0;glass=0;sketch=0;" parent="104" vertex="1">
                    <mxGeometry x="149" y="84" width="166" height="287" as="geometry"/>
                </mxCell>
                <mxCell id="114" value="" style="edgeStyle=none;html=1;fontSize=8;fontColor=#FFFFFF;" parent="105" source="109" target="110" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="109" value="&lt;font color=&quot;#1f1f1f&quot;&gt;EC2&lt;/font&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;rounded=1;shadow=0;glass=0;" parent="105" vertex="1">
                    <mxGeometry x="44" y="63" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="110" value="&lt;font color=&quot;#1f1f1f&quot;&gt;NAT Gateway&lt;/font&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.nat_gateway;rounded=1;shadow=0;glass=0;" parent="105" vertex="1">
                    <mxGeometry x="44" y="169" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="115" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=8;fontColor=#FFFFFF;" parent="104" source="106" target="111" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="106" value="Private subnet" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;grStroke=0;strokeColor=#147EBA;fillColor=#E6F2F8;verticalAlign=top;align=left;spacingLeft=30;fontColor=#147EBA;dashed=0;rounded=1;shadow=0;glass=0;sketch=0;" parent="104" vertex="1">
                    <mxGeometry x="359" y="84" width="166" height="287" as="geometry"/>
                </mxCell>
                <mxCell id="107" value="Lambda" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;rounded=1;shadow=0;glass=0;" parent="106" vertex="1">
                    <mxGeometry x="45" y="62" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="108" value="&lt;font color=&quot;#1f1f1f&quot;&gt;RDS&lt;/font&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rds;rounded=1;shadow=0;glass=0;" parent="106" vertex="1">
                    <mxGeometry x="45" y="178" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="117" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=8;fontColor=#FFFFFF;endArrow=block;endFill=1;" parent="104" source="111" target="112" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="111" value="&lt;font color=&quot;#ffffff&quot;&gt;Router&lt;br&gt;&lt;/font&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.router;rounded=1;shadow=0;glass=0;" parent="104" vertex="1">
                    <mxGeometry x="302" y="410" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="112" value="&lt;font color=&quot;#ffffff&quot;&gt;Internet Gateway&lt;/font&gt;" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#4D27AA;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.internet_gateway;rounded=1;shadow=0;glass=0;" parent="104" vertex="1">
                    <mxGeometry x="23" y="237" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="113" value="&lt;font color=&quot;#ffffff&quot;&gt;Secrets Manager&lt;/font&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.secrets_manager;rounded=1;shadow=0;glass=0;" parent="104" vertex="1">
                    <mxGeometry x="545" y="6" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="130" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;strokeColor=#9E9E9E;strokeWidth=2;fontSize=12;fontColor=#FFFFFF;endArrow=block;endFill=1;" parent="104" source="107" target="113" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="118" value="&lt;font style=&quot;font-size: 12px;&quot;&gt;internet&lt;/font&gt;" style="outlineConnect=0;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;shape=mxgraph.aws3.internet_3;fillColor=#D2D3D3;gradientColor=none;rounded=1;shadow=0;glass=0;sketch=0;fontSize=8;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="65.75" y="-276" width="98.5" height="66.91" as="geometry"/>
                </mxCell>
                <mxCell id="119" style="edgeStyle=orthogonalEdgeStyle;html=1;fontSize=12;fontColor=#FFFFFF;endArrow=block;endFill=1;" parent="1" source="112" target="118" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="127" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#FFFFFF;strokeWidth=2;fontSize=12;fontColor=#FFFFFF;endArrow=block;endFill=1;exitX=0.445;exitY=-0.005;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" target="125" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="-323.0984000000001" y="87.0787499999999" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="126" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=-0.013;entryY=0.359;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#FFFFFF;fontSize=12;fontColor=#FFFFFF;endArrow=block;endFill=1;strokeWidth=2;" parent="1" source="123" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="-373.8814400000001" y="121.38574999999992" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="123" value="Usuario" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.users.user;fillColor=#CCCBCB;rounded=1;glass=0;dashPattern=8 8;fontSize=12;fontColor=#FFFFFF;" parent="1" vertex="1">
                    <mxGeometry x="-569" y="81.51" width="72.68" height="79" as="geometry"/>
                </mxCell>
                <mxCell id="129" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#9E9E9E;strokeWidth=2;fontSize=12;fontColor=#FFFFFF;endArrow=block;endFill=1;dashed=1;" parent="1" source="124" target="107" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="124" value="&lt;font color=&quot;#ffffff&quot;&gt;API Gateway&lt;/font&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;rounded=1;shadow=0;glass=0;dashPattern=8 8;" parent="1" vertex="1">
                    <mxGeometry x="-158" y="-67" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="125" value="&lt;font color=&quot;#ffffff&quot;&gt;AWS cognito&lt;/font&gt;" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;rounded=1;shadow=0;glass=0;dashPattern=8 8;" parent="1" vertex="1">
                    <mxGeometry x="-362" y="-107" width="78" height="78" as="geometry"/>
                </mxCell>
                <mxCell id="133" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#9E9E9E;strokeWidth=2;fontSize=12;fontColor=#FFFFFF;endArrow=none;endFill=0;" parent="1" source="131" target="93" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="131" value="Realiza" style="shape=rhombus;perimeter=rhombusPerimeter;whiteSpace=wrap;html=1;align=center;rounded=1;shadow=0;glass=0;sketch=0;fontSize=12;fontColor=#FFFFFF;gradientColor=none;" parent="1" vertex="1">
                    <mxGeometry x="174" y="1044" width="120" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="132" style="edgeStyle=orthogonalEdgeStyle;html=1;strokeColor=#9E9E9E;strokeWidth=2;fontSize=12;fontColor=#FFFFFF;endArrow=none;endFill=0;" parent="1" source="46" target="131" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="134" value="1" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=19;rounded=1;shadow=0;glass=0;sketch=0;fontColor=#FFFFFF;strokeWidth=1;" parent="1" vertex="1">
                    <mxGeometry x="84" y="1044" width="22" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="135" value="N" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=19;rounded=1;shadow=0;glass=0;sketch=0;fontColor=#FFFFFF;strokeWidth=1;" parent="1" vertex="1">
                    <mxGeometry x="353" y="1042" width="22" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="146" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;sqlalchemy&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;ext&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;declarative&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;declarative_base&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;sqlalchemy&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;exc&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: #cccccc;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;SQLAlchemyError&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal;&quot;&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;from&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;sqlalchemy&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;orm&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(197, 134, 192);&quot;&gt;import&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;Session&lt;/span&gt;&lt;font color=&quot;#cccccc&quot;&gt;, &lt;/font&gt;&lt;span style=&quot;color: rgb(78, 201, 176);&quot;&gt;sessionmaker&lt;/span&gt;&lt;span style=&quot;color: rgb(204, 204, 204);&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;color: rgb(220, 220, 170);&quot;&gt;relationship&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;font size=&quot;1&quot; style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;SQLAlchemy ORM&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;font size=&quot;1&quot; style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ffffff&quot;&gt;sqlalchemy é a biblioteca do python para se comunicar com o banco de dados&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;O ORM mapeia &lt;strong&gt;tabelas do banco de dados&lt;/strong&gt; para &lt;strong&gt;classes&lt;/strong&gt; e &lt;strong&gt;colunas&lt;/strong&gt; para &lt;strong&gt;atributos&lt;/strong&gt;. Dessa forma, podemos interagir com os dados como se fossem objetos.&lt;font style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;li style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal;&quot;&gt;O &lt;code&gt;declarative_base&lt;/code&gt; é uma função usada para criar uma &lt;strong&gt;classe base&lt;/strong&gt; para a definição de modelos ORM (Object-Relational Mapping).&lt;/li&gt;&lt;li style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal;&quot;&gt;Os modelos de banco de dados serão definidos como subclasses dessa base, permitindo a definição de tabelas de forma declarativa.&lt;/li&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;A classe que herda &quot;Base&quot; do sqlalchemy representa um mapeamento de uma tabela no banco de dados, o que possibilita trabalhar com colunas da tabela&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; background-color: initial;&quot;&gt;&quot;Usuario&quot;&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-size: 14px; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; background-color: initial;&quot;&gt;como se fosse um objeto da classe &quot;Usuario&quot;. Isso permite que trabalhemos com o banco como se fosse orientado a objetos.&amp;nbsp;&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;font face=&quot;Consolas, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Usuario&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe;&quot;&gt;Base&lt;/span&gt;):&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;__tablename__&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;'usuario'&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;id&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;Integer&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;primary_key&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;True&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;index&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;True&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;cpf_cnpj&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;String&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;14&lt;/span&gt;), &lt;span style=&quot;color: #9cdcfe;&quot;&gt;unique&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;True&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;index&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;True&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;tipo&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;String&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;10&lt;/span&gt;), &lt;span style=&quot;color: #9cdcfe;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;PESSOA&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;email&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;String&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;200&lt;/span&gt;))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;nome&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;String&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;200&lt;/span&gt;))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;endereco&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;String&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;200&lt;/span&gt;))&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;saldo&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&quot;color: #b5cea8;&quot;&gt;10&lt;/span&gt;, &lt;span style=&quot;color: #b5cea8;&quot;&gt;2&lt;/span&gt;), &lt;span style=&quot;color: #9cdcfe;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #b5cea8;&quot;&gt;0.00&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;criado_em&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;TIMESTAMP&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;CURRENT_TIMESTAMP&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;atualizado_em&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Column&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;TIMESTAMP&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;default&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;CURRENT_TIMESTAMP&quot;&lt;/span&gt;,&amp;nbsp;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;onupdate&lt;/span&gt;&lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: rgb(206, 145, 120);&quot;&gt;&quot;CURRENT_TIMESTAMP&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;b style=&quot;color: rgb(255, 255, 255); text-align: justify; font-size: 20px;&quot;&gt;Session e sessionmaker&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;b style=&quot;color: rgb(255, 255, 255); text-align: justify; font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); text-align: justify;&quot;&gt;O sessionmaker é uma &quot;fábrica de sessão&quot;, ela configura e cria novas instâncias de sessão sob demanda. Ela define a configuração inicial de cada sessão, como a conexão com o banco de dados, e retorna novas sessões sempre que for chamado&lt;/span&gt;&lt;b style=&quot;color: rgb(255, 255, 255); text-align: justify; font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); text-align: justify;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); text-align: justify;&quot;&gt;O Session é uma instância de uma sessão individual criada a partir do sessionmaker, é usada para realizar de fato as operações com oconsultas, inserções, atualizações e exclusões no banco de dados.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); text-align: justify;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;fontSize=19;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="1430" y="-81" width="752" height="915" as="geometry"/>
                </mxCell>
                <mxCell id="147" value="WEB SITE" style="dashed=0;outlineConnect=0;html=1;align=center;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;shape=mxgraph.weblogos.chrome;rounded=1;shadow=0;glass=0;sketch=0;strokeWidth=1;fontSize=19;fontColor=#FFFFFF;gradientColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-360.4" y="92" width="74.8" height="75.4" as="geometry"/>
                </mxCell>
                <mxCell id="148" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;pydantic&lt;/span&gt; &lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;BaseModel&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;font size=&quot;1&quot; style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;Pydantic e seu BaseModel&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;font size=&quot;1&quot; style=&quot;&quot; color=&quot;#ffffff&quot;&gt;&lt;b style=&quot;font-size: 20px;&quot;&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;font color=&quot;#ffffff&quot;&gt;Diferente do ORM, o BaseModelo passa um modelo de verificação para a classe, o python é uma linguagem onde não é necessário passar o tipo de variável antes de atribuir um valor à ela, o que o pydantic faz é validar o tipo da variável antes de prosseguir com a requisição, ela é uma dependencia do FASTAPI.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;TransacaoCreate&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;BaseModel&lt;/span&gt;):&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #6a9955;&quot;&gt;## Possibilita documentação automática&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;id_origem&lt;/span&gt;: &lt;span style=&quot;color: #4ec9b0;&quot;&gt;int&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;id_destino&lt;/span&gt;: &lt;span style=&quot;color: #4ec9b0;&quot;&gt;int&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;valor&lt;/span&gt;: &lt;span style=&quot;color: #4ec9b0;&quot;&gt;float&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;Além disso, passar a classe como parâmetro do nosso endpoint através do atributo&amp;nbsp;&lt;span style=&quot;color: rgb(156, 220, 254); background-color: rgb(31, 31, 31); text-align: left;&quot;&gt;response_model&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&amp;nbsp;possibilita que o FASTAPI gere a documentação (swagger) da nossa api de forma automática e prática.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Exemplo:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;div style=&quot;color: rgb(204, 204, 204); background-color: rgb(31, 31, 31); line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;@&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;app&lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;post&lt;/span&gt;(&lt;span style=&quot;color: #ce9178;&quot;&gt;'/transacao'&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;response_model&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;conexao&lt;/span&gt;.&lt;span style=&quot;color: #4ec9b0;&quot;&gt;TransacaoCreate&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #569cd6;&quot;&gt;def&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;criar_transacao&lt;/span&gt;(&lt;span style=&quot;color: #9cdcfe;&quot;&gt;transacao&lt;/span&gt;: &lt;span style=&quot;color: #4ec9b0;&quot;&gt;conexao&lt;/span&gt;.&lt;span style=&quot;color: #4ec9b0;&quot;&gt;TransacaoCreate&lt;/span&gt;, &lt;span style=&quot;color: #9cdcfe;&quot;&gt;db&lt;/span&gt;: &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Session&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #dcdcaa;&quot;&gt;Depends&lt;/span&gt;(&lt;span style=&quot;color: #4ec9b0;&quot;&gt;conexao&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;get_db&lt;/span&gt;)):&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;logging&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;info&lt;/span&gt;(&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;Iniciando transação...&quot;&lt;/span&gt;)&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ....&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;fontSize=19;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="2767" y="-97" width="752" height="822" as="geometry"/>
                </mxCell>
                <mxCell id="149" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;mangum&lt;/span&gt; &lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;Mangum&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;span style=&quot;color: #dcdcaa;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;O Mangum é um adaptador para rodar nossa API no lambda da aws. O lago negatívo é que a forma na qual chamamos a requisição muda ao utilizar ele:&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;span style=&quot;color: rgb(255, 255, 255); font-size: 14px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;color: rgb(248, 248, 242); background-color: rgb(33, 33, 33); font-family: IBMPlexMono, &amp;quot;Courier New&amp;quot;, monospace, Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 12px; line-height: 18px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;resource&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;/transacao&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;path&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;/transacao&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;httpMethod&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;headers&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;Authorization&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;Bearer&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;queryStringParameters&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;null&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;body&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;{\&quot;id_origem\&quot;: \&quot;12345678909\&quot;, \&quot;id_destino\&quot;: \&quot;12345678910\&quot;, \&quot;valor\&quot;: 30.5}&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;requestContext&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;authorizer&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;principalId&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;1234567890&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;cognito:groups&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;group1&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;group2&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;sub&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;user-sub-id&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;username&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;user@example.com&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;clientId&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;client-id&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;clientApp&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;app-name&quot;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;&quot;stageVariables&quot;&lt;/span&gt;&lt;span style=&quot;color: #dcdcdc;&quot;&gt;:&lt;/span&gt; &lt;span style=&quot;color: #ce9178;&quot;&gt;null&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;span style=&quot;color: #dcdcdc;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;fontSize=19;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="5440" y="-81" width="752" height="535" as="geometry"/>
                </mxCell>
                <mxCell id="198" value="" style="group" parent="1" vertex="1" connectable="0">
                    <mxGeometry x="4103" y="-133" width="752" height="1437" as="geometry"/>
                </mxCell>
                <mxCell id="150" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;jose&lt;/span&gt; &lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;jwt&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;color: #c586c0;&quot;&gt;from&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;jose&lt;/span&gt;.&lt;span style=&quot;color: #4ec9b0;&quot;&gt;exceptions&lt;/span&gt; &lt;span style=&quot;color: #c586c0;&quot;&gt;import&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;JWTError&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;h1 style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; color: rgb(204, 204, 204);&quot;&gt;&lt;font style=&quot;font-size: 29px;&quot;&gt;O JWT (Json Web Token)&lt;span style=&quot;font-weight: normal;&quot;&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/h1&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;Um &lt;strong&gt;JSON Web Token (JWT)&lt;/strong&gt; é um &lt;strong&gt;padrão aberto&lt;/strong&gt; (RFC 7519) para a criação de tokens de acesso compactos e seguros, que permitem a transmissão de informações entre partes de forma segura como um objeto JSON. Essas informações podem ser verificadas e confiáveis porque são &lt;strong&gt;assinadas digitalmente&lt;/strong&gt;, utilizando algoritmos como &lt;strong&gt;HMAC (simétrico)&lt;/strong&gt; ou &lt;strong&gt;RSA (assimétrico)&lt;/strong&gt;.&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Aqui, o código percorre uma lista de &lt;strong&gt;chaves públicas&lt;/strong&gt; que são recuperadas do &lt;strong&gt;JWKS (JSON Web Key Set)&lt;/strong&gt;, que é um conjunto de chaves públicas que pode ser usado para validar tokens JWT. O JWKS geralmente é fornecido por um serviço de autenticação (como o Cognito ou Auth0). Cada chave pública no JWKS tem um identificador único chamado &lt;code&gt;kid&lt;/code&gt; (Key ID).&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;O código compara o &lt;code&gt;kid&lt;/code&gt; presente no cabeçalho do token (&lt;code&gt;unverified_header[&quot;kid&quot;]&lt;/code&gt;) com o &lt;code&gt;kid&lt;/code&gt; de cada chave pública disponível no JWKS (&lt;code&gt;key[&quot;kid&quot;]&lt;/code&gt;). Quando ele encontra uma chave que tem o mesmo &lt;code&gt;kid&lt;/code&gt;, ele seleciona essa chave e armazena suas propriedades na variável &lt;code&gt;rsa_key&lt;/code&gt;:&lt;/p&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;background-color: rgb(31, 31, 31); line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: rgb(156, 220, 254);&quot;&gt;rsa_key&lt;/span&gt; &lt;span style=&quot;color: rgb(212, 212, 212);&quot;&gt;=&lt;/span&gt; {}&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #c586c0;&quot;&gt;for&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt; &lt;span style=&quot;color: #c586c0;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;jwks&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;keys&quot;&lt;/span&gt;]:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #c586c0;&quot;&gt;if&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kid&quot;&lt;/span&gt;] &lt;span style=&quot;color: #d4d4d4;&quot;&gt;==&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;unverified_header&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kid&quot;&lt;/span&gt;]:&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;rsa_key&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; {&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kty&quot;&lt;/span&gt;: &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kty&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kid&quot;&lt;/span&gt;: &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;kid&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;use&quot;&lt;/span&gt;: &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;use&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;n&quot;&lt;/span&gt;: &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;n&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;e&quot;&lt;/span&gt;: &lt;span style=&quot;color: #9cdcfe;&quot;&gt;key&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;e&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;Após encontrar a chave pública RSA correta, o código tenta &lt;strong&gt;decodificar&lt;/strong&gt; o JWT utilizando a função &lt;code&gt;jwt.decode&lt;/code&gt; da biblioteca de manipulação de tokens JWT. A decodificação faz o seguinte:&lt;/p&gt;&lt;ul&gt;&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;token&lt;/strong&gt;: O token JWT que será decodificado.&lt;/li&gt;&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;rsa_key&lt;/strong&gt;: A chave pública RSA que foi selecionada anteriormente. Esta chave será usada para validar a assinatura do token.&lt;/li&gt;&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;algorithms=[&quot;RS256&quot;]&lt;/strong&gt;: O algoritmo de assinatura esperado para o token é RS256 (um algoritmo de assinatura assimétrica que usa RSA e SHA-256).&lt;/li&gt;&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;audience=secret.get(&quot;CLIENT_ID&quot;)&lt;/strong&gt;: Valida a claim &lt;code&gt;aud&lt;/code&gt; (audience). O &lt;code&gt;CLIENT_ID&lt;/code&gt; armazenado em &lt;code&gt;secret&lt;/code&gt; deve corresponder ao valor de &lt;code&gt;aud&lt;/code&gt; no token. Isso garante que o token foi emitido para o público correto.&lt;/li&gt;&lt;li style=&quot;text-align: justify;&quot;&gt;&lt;strong&gt;issuer=secret.get(&quot;ISSUER&quot;)&lt;/strong&gt;: Valida a claim &lt;code&gt;iss&lt;/code&gt; (issuer). O &lt;code&gt;ISSUER&lt;/code&gt; armazenado em &lt;code&gt;secret&lt;/code&gt; deve corresponder ao valor de &lt;code&gt;iss&lt;/code&gt; no token, garantindo que o token foi emitido por uma fonte confiável (como o Cognito).&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; font-weight: normal; color: rgb(204, 204, 204);&quot;&gt;&lt;div style=&quot;background-color: rgb(31, 31, 31); line-height: 19px;&quot;&gt;&lt;div&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;payload&lt;/span&gt; &lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt; &lt;span style=&quot;color: #4ec9b0;&quot;&gt;jwt&lt;/span&gt;.&lt;span style=&quot;color: #dcdcaa;&quot;&gt;decode&lt;/span&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;token&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;rsa_key&lt;/span&gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;algorithms&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;[&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;RS256&quot;&lt;/span&gt;],&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;audience&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;secret&lt;/span&gt;.get(&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;CLIENT_ID&quot;&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;issuer&lt;/span&gt;&lt;span style=&quot;color: #d4d4d4;&quot;&gt;=&lt;/span&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;secret&lt;/span&gt;.get(&lt;span style=&quot;color: #ce9178;&quot;&gt;&quot;ISSUER&quot;&lt;/span&gt;),&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; )&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span style=&quot;color: #c586c0;&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;color: #9cdcfe;&quot;&gt;payload&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;color: #9cdcfe;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;fontSize=19;whiteSpace=wrap;labelBackgroundColor=default;" parent="198" vertex="1">
                    <mxGeometry width="752" height="1437" as="geometry"/>
                </mxCell>
                <mxCell id="176" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;Significado das siglas&lt;/font&gt;" style="shape=table;startSize=30;container=1;collapsible=0;childLayout=tableLayout;fontStyle=1;align=center;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;gradientColor=none;html=1;" parent="198" vertex="1">
                    <mxGeometry x="109" y="662" width="534" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="177" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;labelBackgroundColor=#D1FF52;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;html=1;" parent="176" vertex="1">
                    <mxGeometry y="30" width="534" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="178" value="&lt;font style=&quot;font-size: 16px;&quot;&gt;kty&lt;/font&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=16;fontColor=#CCCCCC;fontStyle=1" parent="177" vertex="1">
                    <mxGeometry width="90" height="36" as="geometry">
                        <mxRectangle width="90" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="179" value="Tipo da chave" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="177" vertex="1">
                    <mxGeometry x="90" width="265" height="36" as="geometry">
                        <mxRectangle width="265" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="180" value="&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&quot;RSA&quot;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="177" vertex="1">
                    <mxGeometry x="355" width="179" height="36" as="geometry">
                        <mxRectangle width="179" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="181" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;labelBackgroundColor=#D1FF52;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;html=1;" parent="176" vertex="1">
                    <mxGeometry y="66" width="534" height="37" as="geometry"/>
                </mxCell>
                <mxCell id="182" value="kid" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=16;fontColor=#CCCCCC;fontStyle=1" parent="181" vertex="1">
                    <mxGeometry width="90" height="37" as="geometry">
                        <mxRectangle width="90" height="37" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="183" value="Identificador da chave" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="181" vertex="1">
                    <mxGeometry x="90" width="265" height="37" as="geometry">
                        <mxRectangle width="265" height="37" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="184" value="&quot;abc123&quot;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="181" vertex="1">
                    <mxGeometry x="355" width="179" height="37" as="geometry">
                        <mxRectangle width="179" height="37" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="185" value="" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;labelBackgroundColor=#D1FF52;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;html=1;" parent="176" vertex="1">
                    <mxGeometry y="103" width="534" height="35" as="geometry"/>
                </mxCell>
                <mxCell id="186" value="use" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=16;fontColor=#CCCCCC;fontStyle=1" parent="185" vertex="1">
                    <mxGeometry width="90" height="35" as="geometry">
                        <mxRectangle width="90" height="35" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="187" value="Uso da chave" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="185" vertex="1">
                    <mxGeometry x="90" width="265" height="35" as="geometry">
                        <mxRectangle width="265" height="35" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="188" value="&quot;sig&quot;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="185" vertex="1">
                    <mxGeometry x="355" width="179" height="35" as="geometry">
                        <mxRectangle width="179" height="35" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="190" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;labelBackgroundColor=#D1FF52;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;html=1;" parent="176" vertex="1">
                    <mxGeometry y="138" width="534" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="191" value="n" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=16;fontColor=#CCCCCC;fontStyle=1" parent="190" vertex="1">
                    <mxGeometry width="90" height="36" as="geometry">
                        <mxRectangle width="90" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="192" value="Módulo (parte da chave RSA)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="190" vertex="1">
                    <mxGeometry x="90" width="265" height="36" as="geometry">
                        <mxRectangle width="265" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="193" value="&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&quot;v2Ghbj34Xj...&quot;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="190" vertex="1">
                    <mxGeometry x="355" width="179" height="36" as="geometry">
                        <mxRectangle width="179" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="194" style="shape=tableRow;horizontal=0;startSize=0;swimlaneHead=0;swimlaneBody=0;top=0;left=0;bottom=0;right=0;collapsible=0;dropTarget=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=1;shadow=0;glass=0;labelBackgroundColor=#D1FF52;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=29;fontColor=#CCCCCC;html=1;" parent="176" vertex="1">
                    <mxGeometry y="174" width="534" height="36" as="geometry"/>
                </mxCell>
                <mxCell id="195" value="e" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=16;fontColor=#CCCCCC;fontStyle=1" parent="194" vertex="1">
                    <mxGeometry width="90" height="36" as="geometry">
                        <mxRectangle width="90" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="196" value="Expoente (parte da chave)" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="194" vertex="1">
                    <mxGeometry x="90" width="265" height="36" as="geometry">
                        <mxRectangle width="265" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="197" value="&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table style=&quot;font-size: 12px;&quot;&gt;&lt;tbody style=&quot;font-size: 12px;&quot;&gt;&lt;tr style=&quot;font-size: 12px;&quot;&gt;&lt;td style=&quot;font-size: 12px;&quot;&gt;&quot;AQAB&quot;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;" style="shape=partialRectangle;html=1;whiteSpace=wrap;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;overflow=hidden;rounded=1;shadow=0;glass=0;labelBackgroundColor=none;sketch=0;strokeWidth=1;fontFamily=Helvetica;fontSize=12;fontColor=#CCCCCC;" parent="194" vertex="1">
                    <mxGeometry x="355" width="179" height="36" as="geometry">
                        <mxRectangle width="179" height="36" as="alternateBounds"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="199" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace;&quot;&gt;&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;div style=&quot;text-align: center; line-height: 19px;&quot;&gt;&lt;font style=&quot;font-size: 29px;&quot; color=&quot;#ede8e8&quot;&gt;&lt;b&gt;Roteiro&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;color: #4ec9b0;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font style=&quot;&quot; color=&quot;#ede8e8&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Proposta do desafio&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(237, 232, 232);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(237, 232, 232);&quot;&gt;Breve explicação sobre o problema proposto pelo PicPay, quais são as abordagens esperadas e os diferentes níveis de entrega com base no nível do candidato. Aqui eu explico quais são as tecnologias propostas pelo criador do desafio e traço um paralelo com quais tecnologias eu utilizei durante o processo. Aqui também é mostrado, na minha visão, o que faz sentido para um desafio envolvendo transações bancárias, como a autenticação na parte da api, que apesar de não ser um requisito, é cabível no escopo do projeto.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(237, 232, 232);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Ambiente local e ambiente de produção&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; color: rgb(204, 204, 204); line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: initial; color: rgb(237, 232, 232);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A explicação nessa parte é pensando no espectador que está assistindo somente para entender como é feita a parte de API e conexão com o banco de dados, mas que não tem interesse em entender como isso é colocado em produção. O vídeo é dividido em desenvolvimento da solução por completo e o seu deploy utilizando a AWS. A visualização da arquitetura em nuvem é feita através de um diagrama simples, feita por alguém não especializado em diagramas, mas que é satisfatório dado o contexto.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Diagrama do banco de dados&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;Aqui é falado sobre como o desafio propõe o modelo de banco de dados e como esse modelo se adequaria ao cenário de um &quot;banco real&quot;, uma vez que, nesse caso, tanto o usuário comum quanto o lojista compartilham das mesmas características, podendo assim compartilhar também de uma mesma tabela. É explicado como a gestão disso será feita por parte do código para tratar possíveis erros. A visualização do banco é feita através de um diagrama.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot; color=&quot;#ede8e8&quot;&gt;&lt;b&gt;Desenvolvimento&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A primeira etapa do desenvolvimento é voltada à criação do banco de dados, colocando em prática o modelo antes mostrado.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A segunda etapa começa com uma breve explicação sobre as bibliotecas que serão utilizadas na conexão com o banco de dados. O desenvolvimento das funções que acessam o banco também é feitao aqui, novos usuários são inseridos de forma manual e algumas transações são feitas através da aplicação.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A próxima etapa consiste na implementação da API que será feita com a biblioteca FASTAPI, uma explicação detalhada é exibida através de uma visualização presente nesse draw.io, essa visualização mostra&amp;nbsp;&lt;/font&gt;como as informações são validadas antes do processamento da API&lt;font color=&quot;#ede8e8&quot;&gt;, aqui é apresentado outra biblioteca chamada pydantic. Após o sucesso da conexão da api com o banco de dados é elaborado o pipeline de verificação antes de prosseguir com a requisição. Aqui é exportado um swagger feito pela própria FASTAPI, esse swagger será utilizado para subir a api na aws posteriormente.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A última pendência para atender todos os requisitos do problema seria a notificação de transação concluída para o usuário ou lojista.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Arquitetura Cloud&lt;/b&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;Com a solução rodando localmente,&amp;nbsp;&lt;/font&gt;é hora de migrar para a nuvem&lt;font color=&quot;#ede8e8&quot;&gt;. Uma conta na AWS é necessária para prosseguir com essa parte.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;A primeira etapa seria a criação de uma VPC com subnets públicas e privadas, a subnet privada deve ter acesso à internet através de um NAT Gateway. Após a resolução da parte de redes é criado o banco de dados no RDS, esse banco ficará na subnet privada e suas credenciais serão armazenadas no Secrets Manager, a conexão com esse banco só poderá ser feita através de SSH utilizando uma instância EC2 que ficará em uma subnet pública. As roles e policies são atreladas a cada serviço, liberando somente as policies necessárias para cada um deles. O cognito deve ser o primeiro serviço configurado, um código python é utilizado para subir um &quot;site local&quot; onde é exibido possível obter o JWT do usuário autenticado. Aqui é explicado melhor a parte de autenticação e validação do JWT. A etapa seguinte consiste em zipar a nossa aplicação da API e subir para um Lambda que ficará em uma subnet privada,&amp;nbsp;&lt;/font&gt;esse Lambda utilizará o NAT para recuperar todas as chaves pendentes no Secrets Manager, mas seu acesso será restrito&lt;font color=&quot;#ede8e8&quot;&gt;, podendo ser consumido somente através de um API gateway criado com o swagger exportado mais cedo. Uma vez funcionando o Lambda, é hora de partir para a última etapa que é habilitar a autenticação pelo cognito. Por fim, teremos um endpoint público para uma API que está rodando em um lambda que, por sua vez, tem acesso ao banco de dados através de um gerenciamento de políticas, permissões e grupos de segurança. Quando autenticado, o usuário poderá realizar transferências.&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; font-weight: normal; font-size: 14px; line-height: 19px;&quot;&gt;&lt;font color=&quot;#ede8e8&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify; line-height: 19px;&quot;&gt;&lt;font style=&quot;font-size: 18px;&quot; color=&quot;#ede8e8&quot;&gt;&lt;b&gt;Fim do vídeo.&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" style="text;html=1;fontSize=19;whiteSpace=wrap;labelBackgroundColor=none;" parent="1" vertex="1">
                    <mxGeometry x="-2055" y="-195" width="752" height="1735" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>